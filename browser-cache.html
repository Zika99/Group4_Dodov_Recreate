<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Group5 Dodov Recreate</title>
    <link rel="stylesheet" href="browser-cache.css">
    <link rel="stylesheet" href="css/all.css">

</head>

<body>
    <div class="container">

         <nav class="nav-link">
            <div class="navLink"><a href="index.html">home</a></div>
            <div class="navLink"><a href="blog.html">blog</a></div>
            <div class="navLinkThird"><a href="browser-cache.html">
                <i>browser-cache-and-edge-cache-explained</i></a>
                <i class="fa-solid fa-xmark"></i>
            </div>
            <div class="navLink"><a href="project.html">projects</a></div>
        </nav>

        <div class="main-container">

                <div class="numbers">

                    <div class="eachNumber"><a href="#number of ones">1</a></div>
                    <div class="eachNumber"><a href="#number of ones">2</a></div>
                    <div class="eachNumber"><a href="#number of ones">3</a></div>
                    <div class="eachNumber"><a href="#number of ones">4</a></div>
                    <div class="eachNumber"><a href="#number of ones">5</a></div>
                    <div class="eachNumber"><a href="#number of ones">6</a></div>
                    <div class="eachNumber"><a href="#number of ones">7</a></div>
                    <div class="eachNumber"><a href="#number of ones">8</a></div>
                    <div class="eachNumber"><a href="#number of ones">9</a></div>
                    <div class="eachNumber"><a href="#number of ones">10</a></div>
                    <div class="eachNumber"><a href="#number of ones">11</a></div>
                    <div class="eachNumber"><a href="#number of ones">12</a></div>
                    <div class="eachNumber"><a href="#number of ones">13</a></div>
                    <div class="eachNumber"><a href="#number of ones">14</a></div>
                    <div class="eachNumber"><a href="#number of ones">15</a></div>
                    <div class="eachNumber"><a href="#number of ones">16</a></div>
                    <div class="eachNumber"><a href="#number of ones">17</a></div>
                    <div class="eachNumber"><a href="#number of ones">18</a></div>
                    <div class="eachNumber"><a href="#number of ones">19</a></div>
                    <div class="eachNumber"><a href="#number of ones">20</a></div>
                    <div class="eachNumber"><a href="#number of ones">21</a></div>
                    <div class="eachNumber"><a href="#number of ones">22</a></div>
                    <div class="eachNumber"><a href="#number of ones">23</a></div>
                    <div class="eachNumber"><a href="#number of ones">24</a></div>
                    <div class="eachNumber"><a href="#number of ones">25</a></div>
                    <div class="eachNumber"><a href="#number of ones">26</a></div>
                    <div class="eachNumber"><a href="#number of ones">27</a></div>
                    <div class="eachNumber"><a href="#number of ones">28</a></div>
                    <div class="eachNumber"><a href="#number of ones">29</a></div>
                    <div class="eachNumber"><a href="#number of ones">30</a></div>
                    <div class="eachNumber"><a href="#number of ones">31</a></div>
                    <div class="eachNumber"><a href="#number of ones">32</a></div>
                    <div class="eachNumber"><a href="#number of ones">33</a></div>
                    <div class="eachNumber"><a href="#number of ones">34</a></div>
                    <div class="eachNumber"><a href="#number of ones">35</a></div>
                    <div class="eachNumber"><a href="#number of ones">36</a></div>
                    <div class="eachNumber"><a href="#number of ones">37</a></div>
                    <div class="eachNumber"><a href="#number of ones">38</a></div>
                    <div class="eachNumber"><a href="#number of ones">39</a></div>
                    <div class="eachNumber"><a href="#number of ones">40</a></div>
                    <div class="eachNumber"><a href="#number of ones">41</a></div>
                    <div class="eachNumber"><a href="#number of ones">42</a></div>
                    <div class="eachNumber"><a href="#number of ones">43</a></div>
                    <div class="eachNumber"><a href="#number of ones">44</a></div>
                    <div class="eachNumber"><a href="#number of ones">45</a></div>
                    <div class="eachNumber"><a href="#number of ones">46</a></div>
                    <div class="eachNumber"><a href="#number of ones">47</a></div>
                    <div class="eachNumber"><a href="#number of ones">48</a></div>
                    <div class="eachNumber"><a href="#number of ones">49</a></div>
                    <div class="eachNumber"><a href="#number of ones">50</a></div>
                    <div class="eachNumber"><a href="#number of ones">51</a></div>
                    <div class="eachNumber"><a href="#number of ones">52</a></div>
                    <div class="eachNumber"><a href="#number of ones">53</a></div>
                    <div class="eachNumber"><a href="#number of ones">54</a></div>
                    <div class="eachNumber"><a href="#number of ones">55</a></div>
                    <div class="eachNumber"><a href="#number of ones">56</a></div>
                    <div class="eachNumber"><a href="#number of ones">57</a></div>
                    <div class="eachNumber"><a href="#number of ones">58</a></div>
                    <div class="eachNumber"><a href="#number of ones">59</a></div>
                    <div class="eachNumber"><a href="#number of ones">60</a></div>
                    <div class="eachNumber"><a href="#number of ones">61</a></div>
                    <div class="eachNumber"><a href="#number of ones">62</a></div>
                    <div class="eachNumber"><a href="#number of ones">63</a></div>
                    <div class="eachNumber"><a href="#number of ones">64</a></div>
                    <div class="eachNumber"><a href="#number of ones">65</a></div>
                    <div class="eachNumber"><a href="#number of ones">66</a></div>
                    <div class="eachNumber"><a href="#number of ones">67</a></div>
                    <div class="eachNumber"><a href="#number of ones">68</a></div>
                    <div class="eachNumber"><a href="#number of ones">69</a></div>
                    <div class="eachNumber"><a href="#number of ones">70</a></div>
                    <div class="eachNumber"><a href="#number of ones">71</a></div>
                    <div class="eachNumber"><a href="#number of ones">72</a></div>
                    <div class="eachNumber"><a href="#number of ones">73</a></div>
                    <div class="eachNumber"><a href="#number of ones">74</a></div>
                    <div class="eachNumber"><a href="#number of ones">75</a></div>
                    <div class="eachNumber"><a href="#number of ones">76</a></div>
                    <div class="eachNumber"><a href="#number of ones">77</a></div>
                    <div class="eachNumber"><a href="#number of ones">78</a></div>
                    <div class="eachNumber"><a href="#number of ones">79</a></div>
                    <div class="eachNumber"><a href="#number of ones">80</a></div>
                    <div class="eachNumber"><a href="#number of ones">81</a></div>
                    <div class="eachNumber"><a href="#number of ones">82</a></div>
                    <div class="eachNumber"><a href="#number of ones">83</a></div>
                    <div class="eachNumber"><a href="#number of ones">84</a></div>
                    <div class="eachNumber"><a href="#number of ones">85</a></div>
                    <div class="eachNumber"><a href="#number of ones">86</a></div>
                    <div class="eachNumber"><a href="#number of ones">87</a></div>
                    <div class="eachNumber"><a href="#number of ones">88</a></div>
                    <div class="eachNumber"><a href="#number of ones">89</a></div>
                    <div class="eachNumber"><a href="#number of ones">90</a></div>
                    <div class="eachNumber"><a href="#number of ones">91</a></div>
                    <div class="eachNumber"><a href="#number of ones">92</a></div>
                    <div class="eachNumber"><a href="#number of ones">93</a></div>
                    <div class="eachNumber"><a href="#number of ones">94</a></div>
                    <div class="eachNumber"><a href="#number of ones">95</a></div>
                    <div class="eachNumber"><a href="#number of ones">96</a></div>
                    <div class="eachNumber"><a href="#number of ones">97</a></div>
                    <div class="eachNumber"><a href="#number of ones">98</a></div>
                    <div class="eachNumber"><a href="#number of ones">99</a></div>
                    <div class="eachNumber"><a href="#number of ones">100</a></div>
                    <div class="eachNumber"><a href="#number of ones">101</a></div>
                    <div class="eachNumber"><a href="#number of ones">102</a></div>
                    <div class="eachNumber"><a href="#number of ones">103</a></div>
                    <div class="eachNumber"><a href="#number of ones">104</a></div>
                    <div class="eachNumber"><a href="#number of ones">105</a></div>
                    <div class="eachNumber"><a href="#number of ones">106</a></div>
                    <div class="eachNumber"><a href="#number of ones">107</a></div>
                    <div class="eachNumber"><a href="#number of ones">108</a></div>
                    <div class="eachNumber"><a href="#number of ones">109</a></div>
                    <div class="eachNumber"><a href="#number of ones">110</a></div>
                    <div class="eachNumber"><a href="#number of ones">111</a></div>
                    <div class="eachNumber"><a href="#number of ones">112</a></div>
                    <div class="eachNumber"><a href="#number of ones">113</a></div>
                    <div class="eachNumber"><a href="#number of ones">114</a></div>
                    <div class="eachNumber"><a href="#number of ones">115</a></div>
                    <div class="eachNumber"><a href="#number of ones">116</a></div>
                    <div class="eachNumber"><a href="#number of ones">117</a></div>
                    <div class="eachNumber"><a href="#number of ones">118</a></div>
                    <div class="eachNumber"><a href="#number of ones">119</a></div>
                    <div class="eachNumber"><a href="#number of ones">120</a></div>
                    <div class="eachNumber"><a href="#number of ones">121</a></div>
                    <div class="eachNumber"><a href="#number of ones">122</a></div>
                    <div class="eachNumber"><a href="#number of ones">123</a></div>
                    <div class="eachNumber"><a href="#number of ones">124</a></div>
                    <div class="eachNumber"><a href="#number of ones">125</a></div>
                    <div class="eachNumber"><a href="#number of ones">126</a></div>
                    <div class="eachNumber"><a href="#number of ones">127</a></div>
                    <div class="eachNumber"><a href="#number of ones">128</a></div>
                    <div class="eachNumber"><a href="#number of ones">129</a></div>
                    <div class="eachNumber"><a href="#number of ones">130</a></div>
                    <div class="eachNumber"><a href="#number of ones">131</a></div>
                    <div class="eachNumber"><a href="#number of ones">132</a></div>
                    <div class="eachNumber"><a href="#number of ones">133</a></div>
                    <div class="eachNumber"><a href="#number of ones">134</a></div>
                    <div class="eachNumber"><a href="#number of ones">135</a></div>
                    <div class="eachNumber"><a href="#number of ones">136</a></div>
                    <div class="eachNumber"><a href="#number of ones">137</a></div>
                    <div class="eachNumber"><a href="#number of ones">138</a></div>
                    <div class="eachNumber"><a href="#number of ones">139</a></div>
                    <div class="eachNumber"><a href="#number of ones">140</a></div>
                    <div class="eachNumber"><a href="#number of ones">141</a></div>
                    <div class="eachNumber"><a href="#number of ones">142</a></div>
                    <div class="eachNumber"><a href="#number of ones">143</a></div>
                    <div class="eachNumber"><a href="#number of ones">144</a></div>
                    <div class="eachNumber"><a href="#number of ones">145</a></div>
                    <div class="eachNumber"><a href="#number of ones">146</a></div>
                    <div class="eachNumber"><a href="#number of ones">147</a></div>
                    <div class="eachNumber"><a href="#number of ones">148</a></div>
                    <div class="eachNumber"><a href="#number of ones">149</a></div>
                    <div class="eachNumber"><a href="#number of ones">150</a></div>
                    <div class="eachNumber"><a href="#number of ones">151</a></div>
                    <div class="eachNumber"><a href="#number of ones">152</a></div>
                    <div class="eachNumber"><a href="#number of ones">153</a></div>
                    <div class="eachNumber"><a href="#number of ones">154</a></div>
                    <div class="eachNumber"><a href="#number of ones">155</a></div>
                    <div class="eachNumber"><a href="#number of ones">156</a></div>
                    <div class="eachNumber"><a href="#number of ones">157</a></div>


                </div>

                <div class="writeUps">

                    <div class="first-head">
                        <div class="head">
                            <h1>Browser Cache and Edge Cache Explained</h1>
                            <p class="p-head">You updated it? Well, yes, but not really.</p>
                        </div>

                        <div class="date">
                            <p>08 Feb 2022</p>
                            <p>182 lines</p>
                        </div>
                    </div>

                    <div>
                        <div class="blogImgs"><img src="img/browser-edge-cache-cover.png" alt="Browser Edge Cache"></div>
                    
                        <div>
                            <p>Does the following sound familiar</p>
                        </div>

                        <div class="space">
                            <p class="grey">
                                >  "The new feature is live." <br>
                                >  "I can't see it." <br>
                                >  "Have you cleared your browser cache?" <br>
                                >  "Yes, it's still no clear." <br>
                                >  "<i><b>Hmmm...</b></i>" <br>
                            </p>
                        </div>

                        <div class="space">
                            <p>This could happen when there are multiple layers of <a class="link" target="_blank" href="https://www.cloudflare.com/learning/cdn/what-is-caching/">caching</a> in <br> play and one of them has not expired. If you've used something <br> like <a class="link" target="_blank" href="https://www.cloudflare.com/cdn/">Cloudflare CDN</a>, you've likely ran into this.</p>
                        </div>
                    
                        <div>
                            <h1 class="heading">What is Browser Caching?</h1>
                        </div>

                        <div class="space">
                            <p>Let's say your website has a logo in the header and it appears on <br> all pages. When users land on your website and starts browsing, <br> they'll be downloading the <b>same</b> logo on <b>every</b> page load. This <br> inefficiency increases bandwidth costs and load times.</p>
                        </div>

                        <div class="space">
                            <p>When sending the logo to the user, your server can also provide <br> the <a class="link" target="_blank" href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Cache-Control"><span class="yellow">Cache-Control</span> response header</a> with an expiration value like <br> <span class="yellow">max-‍age=604800</span>. This will tell the browser to store the logo <br> locally, on the user's hard drive, for 604800 seconds, which is 7 <br> days. Until that time passes, whenever your website references <br> the logo through the same URL, the user's browser will use its <br> cached version. After that, the browser will request the logo <br> from your server once again and cache it for another 7 days.</p>
                        </div>
                    
                        <diV>
                            <h1 class="heading">What is an Edge?</h1>
                        </diV>

                        <div class="space">
                            <p>If your audience is mainly European, it would probably make sense <br> to put your server in London, for example. But if your website <br> starts receiving traffic from America, those requests would have <br> to travel an entire ocean, which can make them several times <br> slower, due to <a class="link" target="_blank" href="https://www.cloudflare.com/learning/performance/glossary/what-is-latency/">latency</a>. With a <a class="link" target="_blank" href="https://www.cloudflare.com/learning/cdn/what-is-a-cdn/">CDN</a>, you have a system of servers <br> spread throughout the world that <a class="link" target="_blank" href="https://www.cloudflare.com/learning/cdn/glossary/reverse-proxy/">proxy</a> user traffic to your <br> server and <a class="link" target="_blank" href="https://www.cloudflare.com/learning/cdn/performance/">solve this performance issue</a>.</p>
                        </div>

                        <div class="space">
                            <p>Among the <a class="link" target="_blank" href="https://www.cloudflare.com/network/">hundreds of servers</a> in a CDN, the geographically <br> closest one to a user is called an edge and is the one that this <br> user's browser directly communicates with:</p>
                        </div>
                    
                        <div class="omo">
                            <div class="blogImgs"><img src="img/cdn-diagram.png" alt="CDN Diagram"></div>
                            <p class="res">Response flow from server to user over a CDN</p>
                        </div>
                    
                        <diV>
                            <h1 class="heading">What is Edge Caching?</h1>
                        </diV>

                        <div class="space">
                            <p>While browser caching helps with many requests by the same user, <br> it doesn't solve the issue of many users making requests, because <br> each user has their own browser with their own cache. To fix <br> this, you need a <i>shared cache</i>.</p>
                        </div>

                        <div class="space">
                            <p>With a CDN, all user requests are funneled through the closest <br> edge server. If that server caches the responses, it'll be able <br> to serve those users without having to bother your own server. <br> This means that it no longer matters if you have 1 user or 10000, <br> because once that first response for a resource is served and <br> cached, the load shifts from your server to the CDN, which can <br> serve the other 9999 by itself.</p>
                        </div>

                        <div class="space">
                            <p>Cloudflare caches only static assets <a class="link" target="_blank" href="https://developers.cloudflare.com/cache/about/default-cache-behavior">by default</a>, such as images, <br> fonts, scripts, etc. The HTML containing the page content is not <br> cached, because if you have an e-commerce store, for example, <br> each user will have their own shopping cart, and if you cache <br> that, the next user will see the previous one's items. On the <br> other hand, an image is expected to be the same for every user <br>and can safely be cached.</p>
                        </div>

                        <div class="space">
                            <p>Sites without shopping carts and other dynamic content, such as <br> blogs, can opt in to <a class="link" target="_blank" href="https://developers.cloudflare.com/cache/how-to/create-page-rules#cache-everything">cache everything</a>. This makes it possible for <br> an edge to serve entire pages all by itself, without having to <br> contact your server, as long as everything is cached. This way, <br> you can have a very weak server, yet handle thousands of requests <br> per second, because the load is mainly on the CDN.</p>
                        </div>

                        <diV>
                            <h1 class="heading">Cache Invalidation</h1>
                        </diV>

                        <div class="space">
                            <p>The hard part in caching is picking a <a class="link" target="_blank" href="https://www.cloudflare.com/learning/cdn/glossary/time-to-live-ttl/">time to live (TTL)</a>, which <br> determines when an entry is stale and should be discarded.</p>
                        </div>

                        <diV class="space">
                            <p>Images and other assets can be cached for longer periods, because even <br> if you pick a way too long TTL, you can change the URL to <br> the resource and trigger a fresh request-response cycle:</p>
                        </diV>

                        <div class="space black-b">
                            <p>https://example.com/about-us/image.jpg<b>?version=2</b></p>
                        </div>

                        <div class="space">
                            <p>However, if you've chosen to cache the HTML content of your pages <br> as well, you'd have to get around that too, since changing the <br> image URL means changing the HTML. So you'd have to change the <br> page URL as well:</p>
                        </div>

                        <div class="space black-b">
                            <p>https://example.com/about-us<b>?version=2</b></p>
                        </div>

                        <div class="space">
                            <p>This is where things get tricky, because even if your web <br> framework can easily change all links to the updated page, <b>every</b> <br> <b>other site on the internet</b> also has to do it. That's impossible, <br> so you have to pick a window of time that you're comfortable with<br> and in which users may see outdated content.</p>
                        </div>

                        <div class="space"><p>If you have the following setup:</p></div>

                        <div><p><span class="green">-</span>    Browser cache TTL: 30 minutes</p></div>    
                        <div><p><span class="green">-</span>    Edge cache TTL: 1 minute</p></div>    
                        <div><p>…there are several possible outcomes:</p></div>    
                            
                        <div class="space">
                            <p><span class="green">1.</span>   If a change happened over 30 minutes ago, both caches would <br>    have expired and it's guaranteed that the user will see the <br> updated version.</p>
                        </div>

                        <div class="space">
                            <p><span class="green">2.</span>   If a change happened over 1 minute ago, only the edge cache is <br> guaranteed to have expired. If a user has seen the page within <br> the last 30 minutes and is cached by their browser, they can <br> see the change by clearing their browser cache, opening an <br> incognito window, or doing a <a class="link" target="_blank" href="https://stackoverflow.com/questions/14969315/whats-the-difference-between-normal-reload-hard-reload-and-empty-cache-a">hard reload</a>.</p>
                        </div>
                        
                        <div class="space">
                            <p><span class="green">3.</span>   If a change happened less than 1 minute ago, both caches would <br> still be considered fresh. Users will not be able to see the <br> update, even if they clear their browser cache, because the <br> closest edge server would still return the old version. The <br> only solution here is for the website owner to prematurely <br> force the cache to become stale by <a class="link" target="_blank" href="https://developers.cloudflare.com/cache/how-to/purge-cache#purge-by-single-file-by-url">purging it</a>.</p>
                        </div>

                        <div>
                            <h1 class="heading">Conclusion</h1>
                        </div>

                        <div class="space">
                            <p>Browser cache helps with subsequent requests by the same user and <br> makes your website feel snappy, because your assets don't have to <br> travel over the internet.</p>
                        </div>

                        <div class="space">
                            <p>Edge cache helps with requests by a geographically close group of <br> users and can greatly reduce server load while improving response <br> times in distant countries.</p>
                        </div>

                        <div class="space">
                            <p>Pick a lower TTL to reduce the chance of outdated content, or a <br> higher TTL for better cache effectiveness, but be ready to change <br> URLs, open incognito windows, and purge cache.</p>
                        </div>


                    </div>

                </div>

           
           
        <div>

        </div>
    </div>
</body>

</html>